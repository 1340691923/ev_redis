import{f as p,g as Ve,l as ve,A as Et,h as Ct,r as V,o as _,c as K,j as l,t as z,a as e,w as t,y as u,k as B,B as b,C as Re,D as Ae,G as de,H as it,b as X,I as te,J as ut,L as rt,M as dt,n as He,E as n,N as gt,p as Mt,q as Ut,s as al,m as kt,x as Kt,z as Tt,F as je,v as Ge,O as It,P as sl}from"./index-de26f036.js";import{d as St,s as Lt,e as Rt,a as ol,f as nl}from"./redis-6d2122df.js";import{_ as xt}from"./_plugin-vue_export-helper-c27b6911.js";const cl={class:"key-header"},il={class:"key-info"},ul={class:"key-meta"},rl={class:"meta-item"},dl={key:0,class:"meta-item"},vl={class:"key-actions"},pl={class:"key-content"},ml={key:0},yl={class:"content-toolbar"},_l={key:1},fl={class:"content-toolbar"},hl={class:"hash-value-display"},bl=["title"],kl={class:"hash-edit-form"},gl={class:"value-editor-container"},Sl={class:"value-toolbar"},Cl={class:"value-info"},xl={class:"char-count"},wl={class:"drawer-footer"},Nl={key:2},Vl={class:"content-toolbar"},$l={class:"list-value-display"},Jl=["title"],Ol={class:"list-edit-form"},Kl={class:"value-editor-container"},Tl={class:"value-toolbar"},Il={class:"value-info"},Dl={class:"char-count"},zl={class:"drawer-footer"},El={key:3},Ml={class:"content-toolbar"},Ul={class:"set-value-display"},Ll=["title"],Rl={class:"set-edit-form"},Al={class:"value-editor-container"},Hl={class:"value-toolbar"},Bl={class:"value-info"},Zl={class:"char-count"},Fl={class:"drawer-footer"},jl={key:4},Gl={class:"content-toolbar"},Pl={class:"zset-value-display"},ql=["title"],Xl={class:"zset-edit-form"},Wl={class:"value-editor-container"},Yl={class:"value-toolbar"},Ql={class:"value-info"},ea={class:"char-count"},ta={class:"drawer-footer"},la={key:5},aa={class:"json-display"},sa={class:"json-dialog-content"},oa={class:"json-dialog-toolbar"},na={slot:"footer",class:"dialog-footer"},ca={__name:"KeyDetail",props:["keyData","database"],emits:["refresh","save","delete"],setup(se,{emit:Te}){const $=se,le=Te,_e=p(!1),ae=p(!1),ne=p(0),Z=p(""),J=p([]),T=p([]),D=p([]),U=p([]),L=p(!1),R=p(""),ce=p(null),x=p(!1),y=p("add"),O=p({field:"",value:""}),xe=p(-1),ie=p(!1),pe=p("add"),j=p({value:""}),ke=p(-1),ue=p(!1),we=p("add"),G=p({member:""}),ge=p(-1),Se=p(!1),Ne=p("add"),E=p({member:"",score:0}),Ie=p(-1),Ee=Ve(()=>ve.sdk.isDarkTheme()),me=Ve(()=>F(Z.value)),ye=()=>{var a,s;return((a=$.keyData)==null?void 0:a.keyName)||((s=$.keyData)==null?void 0:s.key)||"Unknown Key"},oe=()=>{var a,s,d,o;return((a=$.keyData)==null?void 0:a.keyType)||((s=$.keyData)==null?void 0:s.type)||((o=(d=$.keyData)==null?void 0:d.detail)==null?void 0:o.type)||"unknown"},$e=()=>{var a,s,d;return((s=(a=$.keyData)==null?void 0:a.detail)==null?void 0:s.ttl)??((d=$.keyData)==null?void 0:d.ttl)??-1},F=a=>{if(!a||typeof a!="string")return!1;try{let s=JSON.parse(a);return typeof s=="object"&&s!==null}catch{return!1}},he=a=>a?a.length<=100?a:a.substring(0,100)+"...":"",Me=()=>{y.value="add",O.value={field:"",value:""},xe.value=-1,x.value=!0},h=a=>{const s=J.value.findIndex(d=>d===a);s!==-1&&g(a,s)},g=(a,s)=>{y.value="edit",O.value={field:a.field,value:a.value},xe.value=s,x.value=!0},S=()=>{if(!O.value.field.trim()){n.error("字段名不能为空");return}if(y.value==="add"){if(J.value.some(s=>s.field===O.value.field)){n.error("字段名已存在");return}J.value.push({...O.value})}else J.value[xe.value]={...O.value};x.value=!1,n.success(y.value==="add"?"添加成功":"修改成功")},q=()=>{try{const a=JSON.parse(O.value.value);O.value.value=JSON.stringify(a,null,2),n.success("JSON格式化成功")}catch{n.error("JSON格式错误，无法格式化")}},W=()=>{try{const a=JSON.parse(O.value.value);O.value.value=JSON.stringify(a),n.success("JSON压缩成功")}catch{n.error("JSON格式错误，无法压缩")}},A=async a=>{try{if(navigator.clipboard&&navigator.clipboard.writeText)return await navigator.clipboard.writeText(a),!0;const s=document.createElement("textarea");s.value=a,s.style.position="fixed",s.style.top="-9999px",s.style.left="-9999px",s.style.opacity="0",document.body.appendChild(s),s.focus(),s.select(),s.setSelectionRange(0,a.length);const d=document.execCommand("copy");if(document.body.removeChild(s),!d)throw new Error("execCommand failed");return!0}catch(s){return console.error("复制失败:",s),!1}},M=async()=>{await A(O.value.value)?n.success("复制成功"):n.error("复制失败，请手动复制")},Ue=()=>{try{const a=JSON.parse(Z.value);Z.value=JSON.stringify(a,null,2),n.success("JSON格式化成功")}catch{n.error("JSON格式错误，无法格式化")}},Q=()=>{try{const a=JSON.parse(Z.value);Z.value=JSON.stringify(a),n.success("JSON压缩成功")}catch{n.error("JSON格式错误，无法压缩")}},Je=async()=>{await A(Z.value)?n.success("复制成功"):n.error("复制失败，请手动复制")},Le=()=>{Me()},Be=a=>{J.value.splice(a,1)};Ve(()=>J.value.some(a=>F(a.value)));const fe=async()=>{const a={};J.value.forEach(o=>{o.field&&o.field.trim()&&(a[o.field]=o.value)});const s=JSON.stringify(a,null,2);await A(s)?n.success("复制Hash全部数据成功"):n.error("复制失败，请手动复制")},f=async a=>{await A(a)?n.success("复制字段值成功"):n.error("复制失败，请手动复制")},P=()=>{pe.value="add",j.value={value:""},ke.value=-1,ie.value=!0},H=a=>{const s=T.value.findIndex(d=>d===a);s!==-1&&Ze(a,s)},Ze=(a,s)=>{pe.value="edit",j.value={value:a.value},ke.value=s,ie.value=!0},Pe=()=>{pe.value==="add"?T.value.push({...j.value}):T.value[ke.value]={...j.value},ie.value=!1,n.success(pe.value==="add"?"添加成功":"修改成功")},qe=()=>{try{const a=JSON.parse(j.value.value);j.value.value=JSON.stringify(a,null,2),n.success("JSON格式化成功")}catch{n.error("JSON格式错误，无法格式化")}},pt=()=>{try{const a=JSON.parse(j.value.value);j.value.value=JSON.stringify(a),n.success("JSON压缩成功")}catch{n.error("JSON格式错误，无法压缩")}},mt=async()=>{await A(j.value.value)?n.success("复制成功"):n.error("复制失败，请手动复制")},Xe=()=>{P()},i=Ve(()=>ve.sdk.IsMobile()),c=a=>{T.value.splice(a,1)},v=async a=>{await A(a)?n.success("复制列表项成功"):n.error("复制失败，请手动复制")},C=async()=>{const a=T.value.map(o=>o.value),s=JSON.stringify(a,null,2);await A(s)?n.success("复制List全部数据成功"):n.error("复制失败，请手动复制")},k=()=>{we.value="add",G.value={member:""},ge.value=-1,ue.value=!0},N=a=>{const s=D.value.findIndex(d=>d===a);s!==-1&&ee(a,s)},ee=(a,s)=>{we.value="edit",G.value={member:a.member},ge.value=s,ue.value=!0},De=()=>{if(we.value==="add"){if(D.value.some(s=>s.member===G.value.member)){n.error("成员已存在");return}D.value.push({...G.value})}else D.value[ge.value]={...G.value};ue.value=!1,n.success(we.value==="add"?"添加成功":"修改成功")},yt=()=>{try{const a=JSON.parse(G.value.member);G.value.member=JSON.stringify(a,null,2),n.success("JSON格式化成功")}catch{n.error("JSON格式错误，无法格式化")}},_t=()=>{try{const a=JSON.parse(G.value.member);G.value.member=JSON.stringify(a),n.success("JSON压缩成功")}catch{n.error("JSON格式错误，无法压缩")}},ft=async()=>{await A(G.value.member)?n.success("复制成功"):n.error("复制失败，请手动复制")},ht=()=>{k()},bt=a=>{D.value.splice(a,1)},We=async a=>{await A(a)?n.success("复制集合成员成功"):n.error("复制失败，请手动复制")},Ye=async()=>{const a=D.value.map(o=>o.member),s=JSON.stringify(a,null,2);await A(s)?n.success("复制Set全部数据成功"):n.error("复制失败，请手动复制")},Qe=()=>{Ne.value="add",E.value={member:"",score:0},Ie.value=-1,Se.value=!0},et=a=>{const s=U.value.findIndex(d=>d===a);s!==-1&&Fe(a,s)},Fe=(a,s)=>{Ne.value="edit",E.value={member:a.member,score:a.score},Ie.value=s,Se.value=!0},tt=()=>{if(Ne.value==="add"){if(U.value.some(s=>s.member===E.value.member)){n.error("成员已存在");return}U.value.push({...E.value})}else U.value[Ie.value]={...E.value};Se.value=!1,n.success(Ne.value==="add"?"添加成功":"修改成功")},lt=()=>{try{const a=JSON.parse(E.value.member);E.value.member=JSON.stringify(a,null,2),n.success("JSON格式化成功")}catch{n.error("JSON格式错误，无法格式化")}},m=()=>{try{const a=JSON.parse(E.value.member);E.value.member=JSON.stringify(a),n.success("JSON压缩成功")}catch{n.error("JSON格式错误，无法压缩")}},Oe=async()=>{await A(E.value.member)?n.success("复制成功"):n.error("复制失败，请手动复制")},at=()=>{Qe()},At=a=>{U.value.splice(a,1)},Ht=async a=>{await A(a)?n.success("复制有序集合成员成功"):n.error("复制失败，请手动复制")},Bt=async()=>{const a=U.value.map(o=>({member:o.member,score:o.score})),s=JSON.stringify(a,null,2);await A(s)?n.success("复制ZSet全部数据成功"):n.error("复制失败，请手动复制")},Zt=()=>{try{const a=JSON.parse(R.value);R.value=JSON.stringify(a,null,2),n.success("JSON格式化成功")}catch{n.error("JSON格式错误，无法格式化")}},Ft=()=>{try{const a=JSON.parse(R.value);R.value=JSON.stringify(a),n.success("JSON压缩成功")}catch{n.error("JSON格式错误，无法压缩")}},jt=async()=>{await A(R.value)?n.success("复制成功"):n.error("复制失败，请手动复制")},Gt=()=>{if(!ce.value)return;const{type:a,index:s,field:d}=ce.value;switch(a){case"hash":J.value[s][d]=R.value;break;case"list":T.value[s][d]=R.value;break;case"set":D.value[s][d]=R.value;break;case"zset":U.value[s][d]=R.value;break}L.value=!1,ce.value=null},Pt=a=>{if(!a)return;const s=a.type||"unknown",d=a.value;switch(s){case"string":Z.value=typeof d=="string"?d:JSON.stringify(d);break;case"hash":if(J.value=[],Array.isArray(d))for(let o=0;o<d.length;o+=2)J.value.push({field:d[o],value:d[o+1]});else typeof d=="object"&&d!==null&&Object.entries(d).forEach(([o,w])=>{J.value.push({field:o,value:typeof w=="string"?w:JSON.stringify(w)})});break;case"list":T.value=[],Array.isArray(d)&&d.forEach(o=>{T.value.push({value:typeof o=="string"?o:JSON.stringify(o)})});break;case"set":D.value=[],Array.isArray(d)&&d.forEach(o=>{D.value.push({member:typeof o=="string"?o:JSON.stringify(o)})});break;case"zset":if(U.value=[],Array.isArray(d))for(let o=0;o<d.length;o+=2)U.value.push({member:typeof d[o]=="string"?d[o]:JSON.stringify(d[o]),score:parseFloat(d[o+1])||0});break}};Et(()=>$.keyData,a=>{a!=null&&a.detail&&wt()},{deep:!0,immediate:!1}),Ct(()=>{wt()});const wt=()=>{var d;if(!((d=$.keyData)!=null&&d.detail))return;const a=oe(),s=$.keyData.detail.value;switch(a){case"string":Z.value=typeof s=="string"?s:JSON.stringify(s);break;case"hash":if(J.value=[],Array.isArray(s))for(let o=0;o<s.length;o+=2)J.value.push({field:s[o],value:s[o+1]});else typeof s=="object"&&s!==null&&Object.entries(s).forEach(([o,w])=>{J.value.push({field:o,value:typeof w=="string"?w:JSON.stringify(w)})});break;case"list":T.value=[],Array.isArray(s)&&s.forEach(o=>{T.value.push({value:typeof o=="string"?o:JSON.stringify(o)})});break;case"set":D.value=[],Array.isArray(s)&&s.forEach(o=>{D.value.push({member:typeof o=="string"?o:JSON.stringify(o)})});break;case"zset":if(U.value=[],Array.isArray(s))for(let o=0;o<s.length;o+=2)U.value.push({member:typeof s[o]=="string"?s[o]:JSON.stringify(s[o]),score:parseFloat(s[o+1])||0});break}},qt=async()=>{if(!ae.value){ae.value=!0;try{n.info("正在刷新数据...");const a=ve.sdk.GetSelectEsConnID(),s=await St({es_connect:a,database:$.database,key:ye()});s.code===0&&s.data?(Pt(s.data),ne.value++,n.success("数据刷新成功"),le("refresh",ye())):n.error(s.msg||"刷新失败")}catch(a){n.error("刷新失败: "+a.message)}finally{ae.value=!1}}},Xt=async()=>{_e.value=!0;try{const a=ve.sdk.GetSelectEsConnID(),s=oe();let d;switch(s){case"string":d=Z.value;break;case"hash":d={},J.value.forEach(w=>{w.field&&w.field.trim()&&(d[w.field]=w.value)});break;case"list":d=T.value.map(w=>w.value).filter(w=>w!=="");break;case"set":d=D.value.map(w=>w.member).filter(w=>w!=="");break;case"zset":d=U.value.filter(w=>w.member&&w.member.trim()).map(w=>({member:w.member,score:w.score}));break;default:n.error("不支持的数据类型");return}const o=await Lt({es_connect:a,database:$.database,key:ye(),type:s,ttl:$e(),value:d});o.code===0?(n.success("保存成功"),le("save",ye())):n.error(o.msg||"保存失败")}catch(a){n.error("保存失败: "+a.message)}finally{_e.value=!1}},Wt=async()=>{try{await gt.confirm("确定要删除这个Key吗？","删除确认",{type:"warning"});const a=ve.sdk.GetSelectEsConnID();(await Rt({es_connect:a,database:$.database,key:ye()})).code===0&&(n.success("删除成功"),le("delete",ye()))}catch(a){a!=="cancel"&&n.error("删除失败: "+a.message)}},Yt=a=>({string:"primary",hash:"success",list:"warning",set:"info",zset:"danger"})[a]||"default",Qt=a=>{if(!a||a===0)return"0 B";const s=1024,d=["B","KB","MB","GB"],o=Math.floor(Math.log(a)/Math.log(s));return parseFloat((a/Math.pow(s,o)).toFixed(1))+" "+d[o]};return(a,s)=>{var Nt,Vt,$t,Jt,Ot;const d=V("el-tag"),o=V("el-button"),w=V("el-button-group"),Ke=V("el-input"),re=V("el-table-column"),st=V("el-table"),ze=V("el-form-item"),ot=V("el-icon"),nt=V("el-form"),ct=V("el-drawer"),el=V("el-input-number"),tl=V("el-alert"),ll=V("el-dialog");return _(),K("div",{class:He(["key-detail-container",{"dark-mode":Ee.value}])},[l("div",cl,[l("div",il,[l("h3",null,z(ye()),1),l("div",ul,[e(d,{type:Yt(oe())},{default:t(()=>[u(z(oe()),1)]),_:1},8,["type"]),l("span",rl,"大小: "+z(Qt(((Vt=(Nt=se.keyData)==null?void 0:Nt.detail)==null?void 0:Vt.sizeBytes)||(($t=se.keyData)==null?void 0:$t.sizeBytes)||0)),1),$e()!==-1?(_(),K("span",dl,"TTL: "+z($e())+"s",1)):B("",!0)])]),l("div",vl,[e(o,{onClick:qt,loading:ae.value},{default:t(()=>[u("刷新")]),_:1},8,["loading"]),e(o,{type:"primary",onClick:Xt,loading:_e.value},{default:t(()=>[u("保存")]),_:1},8,["loading"]),e(o,{type:"danger",onClick:Wt},{default:t(()=>[u("删除")]),_:1})])]),l("div",pl,[oe()==="string"?(_(),K("div",ml,[l("div",yl,[e(w,null,{default:t(()=>[e(o,{onClick:Ue,disabled:!me.value,icon:b(Re)},{default:t(()=>[u(" 格式化JSON ")]),_:1},8,["disabled","icon"]),e(o,{onClick:Q,disabled:!me.value,icon:b(Ae)},{default:t(()=>[u(" 压缩JSON ")]),_:1},8,["disabled","icon"]),e(o,{onClick:Je,icon:b(de)},{default:t(()=>[u(" 复制 ")]),_:1},8,["icon"])]),_:1})]),e(Ke,{type:"textarea",modelValue:Z.value,"onUpdate:modelValue":s[0]||(s[0]=r=>Z.value=r),rows:15,placeholder:"字符串内容",class:"string-editor"},null,8,["modelValue"])])):oe()==="hash"?(_(),K("div",_l,[l("div",fl,[e(w,null,{default:t(()=>[e(o,{type:"primary",onClick:Le,icon:b(it)},{default:t(()=>[u(" 添加字段 ")]),_:1},8,["icon"]),e(o,{onClick:fe,icon:b(de)},{default:t(()=>[u(" 复制全部 ")]),_:1},8,["icon"])]),_:1})]),e(st,{data:J.value,stripe:"",style:{width:"100%"},"max-height":"400",onRowClick:h,class:"hash-readonly-table"},{default:t(()=>[e(re,{label:"ID",width:"60"},{default:t(({$index:r})=>[u(z(r+1),1)]),_:1}),e(re,{prop:"field",label:"Key",align:"center","show-overflow-tooltip":""}),e(re,{prop:"value",label:"Value",align:"center","show-overflow-tooltip":""},{default:t(({row:r})=>[l("div",hl,[l("span",{class:"value-text",title:r.value},z(he(r.value)),9,bl),F(r.value)?(_(),X(d,{key:0,type:"success"},{default:t(()=>[u("JSON")]),_:1})):B("",!0)])]),_:1}),e(re,{label:"操作",width:"220"},{default:t(({row:r,$index:Y})=>[e(o,{type:"primary",onClick:te(be=>g(r,Y),["stop"]),title:"编辑",icon:b(ut)},null,8,["onClick","icon"]),e(o,{type:"info",onClick:te(be=>f(r.value),["stop"]),title:"复制值",icon:b(de)},null,8,["onClick","icon"]),e(o,{type:"danger",onClick:te(be=>Be(Y),["stop"]),title:"删除",icon:b(rt)},null,8,["onClick","icon"])]),_:1})]),_:1},8,["data"]),e(ct,{modelValue:x.value,"onUpdate:modelValue":s[4]||(s[4]=r=>x.value=r),title:y.value==="edit"?"修改行":"新增行",direction:"rtl",size:i.value?"100%":"80%"},{default:t(()=>[l("div",kl,[e(nt,{model:O.value,"label-width":"80px","label-position":"top"},{default:t(()=>[e(ze,{label:"Field"},{default:t(()=>[e(Ke,{modelValue:O.value.field,"onUpdate:modelValue":s[1]||(s[1]=r=>O.value.field=r),placeholder:"请输入字段名",disabled:y.value==="edit"},null,8,["modelValue","disabled"])]),_:1}),e(ze,{label:"Value"},{default:t(()=>{var r;return[l("div",gl,[l("div",Sl,[e(w,null,{default:t(()=>[e(o,{onClick:q,disabled:!F(O.value.value),icon:b(Re)},{default:t(()=>[u(" 格式化JSON ")]),_:1},8,["disabled","icon"]),e(o,{onClick:W,disabled:!F(O.value.value),icon:b(Ae)},{default:t(()=>[u(" 压缩JSON ")]),_:1},8,["disabled","icon"]),e(o,{onClick:M,icon:b(de)},{default:t(()=>[u(" 复制 ")]),_:1},8,["icon"])]),_:1})]),e(Ke,{type:"textarea",modelValue:O.value.value,"onUpdate:modelValue":s[2]||(s[2]=Y=>O.value.value=Y),rows:12,placeholder:"请输入值",class:"value-textarea"},null,8,["modelValue"]),l("div",Cl,[F(O.value.value)?(_(),X(d,{key:0,type:"success"},{default:t(()=>[e(ot,null,{default:t(()=>[e(b(dt))]),_:1}),u(" 有效的JSON ")]),_:1})):B("",!0),l("span",xl,z(((r=O.value.value)==null?void 0:r.length)||0)+" 字符",1)])])]}),_:1})]),_:1},8,["model"]),l("div",wl,[e(o,{onClick:s[3]||(s[3]=r=>x.value=!1)},{default:t(()=>[u("取消")]),_:1}),e(o,{type:"primary",onClick:S},{default:t(()=>[u("确定")]),_:1})])])]),_:1},8,["modelValue","title","size"])])):oe()==="list"?(_(),K("div",Nl,[l("div",Vl,[e(w,null,{default:t(()=>[e(o,{type:"primary",onClick:Xe,icon:b(it)},{default:t(()=>[u(" 添加元素 ")]),_:1},8,["icon"]),e(o,{onClick:C,icon:b(de)},{default:t(()=>[u(" 复制全部 ")]),_:1},8,["icon"])]),_:1})]),e(st,{data:T.value,stripe:"",style:{width:"100%"},"max-height":"400",onRowClick:H,class:"list-readonly-table"},{default:t(()=>[e(re,{label:"索引",width:"80"},{default:t(({$index:r})=>[u(z(r+1),1)]),_:1}),e(re,{prop:"value",label:"值","show-overflow-tooltip":""},{default:t(({row:r})=>[l("div",$l,[l("span",{class:"value-text",title:r.value},z(he(r.value)),9,Jl),F(r.value)?(_(),X(d,{key:0,type:"success"},{default:t(()=>[u("JSON")]),_:1})):B("",!0)])]),_:1}),e(re,{label:"操作",width:"220"},{default:t(({row:r,$index:Y})=>[e(o,{type:"primary",onClick:te(be=>Ze(r,Y),["stop"]),title:"编辑",icon:b(ut)},null,8,["onClick","icon"]),e(o,{type:"info",onClick:te(be=>v(r.value),["stop"]),title:"复制值",icon:b(de)},null,8,["onClick","icon"]),e(o,{type:"danger",onClick:te(be=>c(Y),["stop"]),title:"删除",icon:b(rt)},null,8,["onClick","icon"])]),_:1})]),_:1},8,["data"]),e(ct,{modelValue:ie.value,"onUpdate:modelValue":s[7]||(s[7]=r=>ie.value=r),title:pe.value==="edit"?"修改元素":"新增元素",direction:"rtl",size:i.value?"100%":"80%"},{default:t(()=>[l("div",Ol,[e(nt,{model:j.value,"label-width":"80px","label-position":"top"},{default:t(()=>[pe.value==="edit"?(_(),X(ze,{key:0,label:"索引"},{default:t(()=>[e(Ke,{value:ke.value+1,disabled:""},null,8,["value"])]),_:1})):B("",!0),e(ze,{label:"值"},{default:t(()=>{var r;return[l("div",Kl,[l("div",Tl,[e(w,null,{default:t(()=>[e(o,{onClick:qe,disabled:!F(j.value.value),icon:b(Re)},{default:t(()=>[u(" 格式化JSON ")]),_:1},8,["disabled","icon"]),e(o,{onClick:pt,disabled:!F(j.value.value),icon:b(Ae)},{default:t(()=>[u(" 压缩JSON ")]),_:1},8,["disabled","icon"]),e(o,{onClick:mt,icon:b(de)},{default:t(()=>[u(" 复制 ")]),_:1},8,["icon"])]),_:1})]),e(Ke,{type:"textarea",modelValue:j.value.value,"onUpdate:modelValue":s[5]||(s[5]=Y=>j.value.value=Y),rows:12,placeholder:"请输入值",class:"value-textarea"},null,8,["modelValue"]),l("div",Il,[F(j.value.value)?(_(),X(d,{key:0,type:"success"},{default:t(()=>[e(ot,null,{default:t(()=>[e(b(dt))]),_:1}),u(" 有效的JSON ")]),_:1})):B("",!0),l("span",Dl,z(((r=j.value.value)==null?void 0:r.length)||0)+" 字符",1)])])]}),_:1})]),_:1},8,["model"]),l("div",zl,[e(o,{onClick:s[6]||(s[6]=r=>ie.value=!1)},{default:t(()=>[u("取消")]),_:1}),e(o,{type:"primary",onClick:Pe},{default:t(()=>[u("确定")]),_:1})])])]),_:1},8,["modelValue","title","size"])])):oe()==="set"?(_(),K("div",El,[l("div",Ml,[e(w,null,{default:t(()=>[e(o,{type:"primary",onClick:ht,icon:b(it)},{default:t(()=>[u(" 添加成员 ")]),_:1},8,["icon"]),e(o,{onClick:Ye,icon:b(de)},{default:t(()=>[u(" 复制全部 ")]),_:1},8,["icon"])]),_:1})]),e(st,{data:D.value,stripe:"",style:{width:"100%"},"max-height":"400",onRowClick:N,class:"set-readonly-table"},{default:t(()=>[e(re,{label:"#",width:"60"},{default:t(({$index:r})=>[u(z(r+1),1)]),_:1}),e(re,{prop:"member",label:"成员","show-overflow-tooltip":""},{default:t(({row:r})=>[l("div",Ul,[l("span",{class:"value-text",title:r.member},z(he(r.member)),9,Ll),F(r.member)?(_(),X(d,{key:0,type:"success"},{default:t(()=>[u("JSON")]),_:1})):B("",!0)])]),_:1}),e(re,{label:"操作",width:"220"},{default:t(({row:r,$index:Y})=>[e(o,{type:"primary",onClick:te(be=>ee(r,Y),["stop"]),title:"编辑",icon:b(ut)},null,8,["onClick","icon"]),e(o,{type:"info",onClick:te(be=>We(r.member),["stop"]),title:"复制值",icon:b(de)},null,8,["onClick","icon"]),e(o,{type:"danger",onClick:te(be=>bt(Y),["stop"]),title:"删除",icon:b(rt)},null,8,["onClick","icon"])]),_:1})]),_:1},8,["data"]),e(ct,{modelValue:ue.value,"onUpdate:modelValue":s[10]||(s[10]=r=>ue.value=r),title:we.value==="edit"?"修改成员":"新增成员",direction:"rtl",size:i.value?"100%":"80%"},{default:t(()=>[l("div",Rl,[e(nt,{model:G.value,"label-width":"80px","label-position":"top"},{default:t(()=>[e(ze,{label:"成员值"},{default:t(()=>{var r;return[l("div",Al,[l("div",Hl,[e(w,null,{default:t(()=>[e(o,{onClick:yt,disabled:!F(G.value.member),icon:b(Re)},{default:t(()=>[u(" 格式化JSON ")]),_:1},8,["disabled","icon"]),e(o,{onClick:_t,disabled:!F(G.value.member),icon:b(Ae)},{default:t(()=>[u(" 压缩JSON ")]),_:1},8,["disabled","icon"]),e(o,{onClick:ft,icon:b(de)},{default:t(()=>[u(" 复制 ")]),_:1},8,["icon"])]),_:1})]),e(Ke,{type:"textarea",modelValue:G.value.member,"onUpdate:modelValue":s[8]||(s[8]=Y=>G.value.member=Y),rows:12,placeholder:"请输入成员值",class:"value-textarea"},null,8,["modelValue"]),l("div",Bl,[F(G.value.member)?(_(),X(d,{key:0,type:"success"},{default:t(()=>[e(ot,null,{default:t(()=>[e(b(dt))]),_:1}),u(" 有效的JSON ")]),_:1})):B("",!0),l("span",Zl,z(((r=G.value.member)==null?void 0:r.length)||0)+" 字符",1)])])]}),_:1})]),_:1},8,["model"]),l("div",Fl,[e(o,{onClick:s[9]||(s[9]=r=>ue.value=!1)},{default:t(()=>[u("取消")]),_:1}),e(o,{type:"primary",onClick:De},{default:t(()=>[u("确定")]),_:1})])])]),_:1},8,["modelValue","title","size"])])):oe()==="zset"?(_(),K("div",jl,[l("div",Gl,[e(w,null,{default:t(()=>[e(o,{type:"primary",onClick:at,icon:b(it)},{default:t(()=>[u(" 添加成员 ")]),_:1},8,["icon"]),e(o,{onClick:Bt,icon:b(de)},{default:t(()=>[u(" 复制全部 ")]),_:1},8,["icon"])]),_:1})]),e(st,{data:U.value,stripe:"",style:{width:"100%"},"max-height":"400",onRowClick:et,class:"zset-readonly-table"},{default:t(()=>[e(re,{label:"#",width:"60"},{default:t(({$index:r})=>[u(z(r+1),1)]),_:1}),e(re,{prop:"score",label:"分数",width:"120",sortable:""},{default:t(({row:r})=>[e(d,{type:"warning"},{default:t(()=>[u(z(r.score),1)]),_:2},1024)]),_:1}),e(re,{prop:"member",label:"成员","show-overflow-tooltip":""},{default:t(({row:r})=>[l("div",Pl,[l("span",{class:"value-text",title:r.member},z(he(r.member)),9,ql),F(r.member)?(_(),X(d,{key:0,type:"success"},{default:t(()=>[u("JSON")]),_:1})):B("",!0)])]),_:1}),e(re,{label:"操作",width:"220"},{default:t(({row:r,$index:Y})=>[e(o,{type:"primary",onClick:te(be=>Fe(r,Y),["stop"]),title:"编辑",icon:b(ut)},null,8,["onClick","icon"]),e(o,{type:"info",onClick:te(be=>Ht(r.member),["stop"]),title:"复制值",icon:b(de)},null,8,["onClick","icon"]),e(o,{type:"danger",onClick:te(be=>At(Y),["stop"]),title:"删除",icon:b(rt)},null,8,["onClick","icon"])]),_:1})]),_:1},8,["data"]),e(ct,{modelValue:Se.value,"onUpdate:modelValue":s[14]||(s[14]=r=>Se.value=r),title:Ne.value==="edit"?"修改成员":"新增成员",direction:"rtl",size:i.value?"100%":"80%"},{default:t(()=>[l("div",Xl,[e(nt,{model:E.value,"label-width":"80px","label-position":"top"},{default:t(()=>[e(ze,{label:"分数"},{default:t(()=>[e(el,{modelValue:E.value.score,"onUpdate:modelValue":s[11]||(s[11]=r=>E.value.score=r),placeholder:"请输入分数",precision:2,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(ze,{label:"成员值"},{default:t(()=>{var r;return[l("div",Wl,[l("div",Yl,[e(w,null,{default:t(()=>[e(o,{onClick:lt,disabled:!F(E.value.member),icon:b(Re)},{default:t(()=>[u(" 格式化JSON ")]),_:1},8,["disabled","icon"]),e(o,{onClick:m,disabled:!F(E.value.member),icon:b(Ae)},{default:t(()=>[u(" 压缩JSON ")]),_:1},8,["disabled","icon"]),e(o,{onClick:Oe,icon:b(de)},{default:t(()=>[u(" 复制 ")]),_:1},8,["icon"])]),_:1})]),e(Ke,{type:"textarea",modelValue:E.value.member,"onUpdate:modelValue":s[12]||(s[12]=Y=>E.value.member=Y),rows:12,placeholder:"请输入成员值",class:"value-textarea"},null,8,["modelValue"]),l("div",Ql,[F(E.value.member)?(_(),X(d,{key:0,type:"success"},{default:t(()=>[e(ot,null,{default:t(()=>[e(b(dt))]),_:1}),u(" 有效的JSON ")]),_:1})):B("",!0),l("span",ea,z(((r=E.value.member)==null?void 0:r.length)||0)+" 字符",1)])])]}),_:1})]),_:1},8,["model"]),l("div",ta,[e(o,{onClick:s[13]||(s[13]=r=>Se.value=!1)},{default:t(()=>[u("取消")]),_:1}),e(o,{type:"primary",onClick:tt},{default:t(()=>[u("确定")]),_:1})])])]),_:1},8,["modelValue","title","size"])])):(_(),K("div",la,[e(tl,{title:`${oe()} 类型`,description:"此数据类型暂不支持编辑，仅支持查看",type:"info","show-icon":""},null,8,["title"]),l("pre",aa,z(JSON.stringify((Ot=(Jt=se.keyData)==null?void 0:Jt.detail)==null?void 0:Ot.value,null,2)),1)]))]),e(ll,{title:"JSON 格式化",visible:L.value,width:"80%"},{default:t(()=>[l("div",sa,[l("div",oa,[e(w,null,{default:t(()=>[e(o,{onClick:Zt,icon:b(Re)},{default:t(()=>[u(" 格式化 ")]),_:1},8,["icon"]),e(o,{onClick:Ft,icon:b(Ae)},{default:t(()=>[u(" 压缩 ")]),_:1},8,["icon"]),e(o,{onClick:jt,icon:b(de)},{default:t(()=>[u(" 复制 ")]),_:1},8,["icon"])]),_:1})]),e(Ke,{type:"textarea",modelValue:R.value,"onUpdate:modelValue":s[15]||(s[15]=r=>R.value=r),rows:20,placeholder:"JSON 内容",class:"json-dialog-editor"},null,8,["modelValue"])]),l("div",na,[e(o,{onClick:s[16]||(s[16]=r=>L.value=!1)},{default:t(()=>[u("取消")]),_:1}),e(o,{type:"primary",onClick:Gt},{default:t(()=>[u("确定")]),_:1})])]),_:1},8,["visible"])],2)}}},Dt=xt(ca,[["__scopeId","data-v-eb4c8477"]]);const Ce=se=>(Mt("data-v-e8c1b76e"),se=se(),Ut(),se),ia={class:"creator-header"},ua=Ce(()=>l("h3",null,"创建新Key",-1)),ra={class:"creator-actions"},da={class:"creator-content"},va={class:"content-editor-container"},pa={class:"content-toolbar"},ma=Ce(()=>l("i",{class:"el-icon-magic-stick"},null,-1)),ya=Ce(()=>l("i",{class:"el-icon-minus"},null,-1)),_a={class:"hash-editor-container"},fa={class:"content-toolbar"},ha=Ce(()=>l("i",{class:"el-icon-plus"},null,-1)),ba={class:"hash-value-editor"},ka={class:"hash-value-actions"},ga={class:"list-editor-container"},Sa={class:"content-toolbar"},Ca=Ce(()=>l("i",{class:"el-icon-plus"},null,-1)),xa={class:"list-value-editor"},wa={class:"list-value-actions"},Na={class:"set-editor-container"},Va={class:"content-toolbar"},$a=Ce(()=>l("i",{class:"el-icon-plus"},null,-1)),Ja={class:"set-value-editor"},Oa={class:"set-value-actions"},Ka={class:"zset-editor-container"},Ta={class:"content-toolbar"},Ia=Ce(()=>l("i",{class:"el-icon-plus"},null,-1)),Da={class:"zset-value-editor"},za={class:"zset-value-actions"},Ea={class:"json-dialog-content"},Ma={class:"json-dialog-toolbar"},Ua=Ce(()=>l("i",{class:"el-icon-magic-stick"},null,-1)),La=Ce(()=>l("i",{class:"el-icon-minus"},null,-1)),Ra=Ce(()=>l("i",{class:"el-icon-document-copy"},null,-1)),Aa={slot:"footer",class:"dialog-footer"},Ha={__name:"KeyCreator",props:["database"],emits:["save","cancel"],setup(se,{emit:Te}){const $=se,le=Te,_e=p(!1),ae=p(),ne=p(""),Z=p([]),J=p([]),T=p([]),D=p([]),U=p(!1),L=p(""),R=p(null),ce=Ve(()=>ve.sdk.isDarkTheme()),x=Ve(()=>O(ne.value)),y=p({key:"",type:"string",ttl:-1}),O=h=>{if(!h||typeof h!="string")return!1;try{return JSON.parse(h),!0}catch{return!1}},xe=()=>{try{const h=JSON.parse(ne.value);ne.value=JSON.stringify(h,null,2),n.success("JSON格式化成功")}catch{n.error("JSON格式错误，无法格式化")}},ie=()=>{try{const h=JSON.parse(ne.value);ne.value=JSON.stringify(h),n.success("JSON压缩成功")}catch{n.error("JSON格式错误，无法压缩")}},pe=()=>{Z.value.push({field:"",value:""})},j=h=>{Z.value.splice(h,1)},ke=(h,g)=>{R.value={type:"hash",index:g,field:"value"},L.value=h.value,U.value=!0},ue=()=>{J.value.push({value:""})},we=h=>{J.value.splice(h,1)},G=(h,g)=>{R.value={type:"list",index:g,field:"value"},L.value=h.value,U.value=!0},ge=()=>{T.value.push({member:""})},Se=h=>{T.value.splice(h,1)},Ne=(h,g)=>{R.value={type:"set",index:g,field:"member"},L.value=h.member,U.value=!0},E=()=>{D.value.push({member:"",score:0})},Ie=h=>{D.value.splice(h,1)},Ee=(h,g)=>{R.value={type:"zset",index:g,field:"member"},L.value=h.member,U.value=!0},me=()=>{try{const h=JSON.parse(L.value);L.value=JSON.stringify(h,null,2),n.success("JSON格式化成功")}catch{n.error("JSON格式错误，无法格式化")}},ye=()=>{try{const h=JSON.parse(L.value);L.value=JSON.stringify(h),n.success("JSON压缩成功")}catch{n.error("JSON格式错误，无法压缩")}},oe=()=>{navigator.clipboard.writeText(L.value).then(()=>{n.success("复制成功")}).catch(()=>{n.error("复制失败")})},$e=()=>{if(!R.value)return;const{type:h,index:g,field:S}=R.value;switch(h){case"hash":Z.value[g][S]=L.value;break;case"list":J.value[g][S]=L.value;break;case"set":T.value[g][S]=L.value;break;case"zset":D.value[g][S]=L.value;break}U.value=!1,R.value=null},F=()=>{switch(ne.value="",Z.value=[],J.value=[],T.value=[],D.value=[],y.value.type){case"hash":pe();break;case"list":ue();break;case"set":ge();break;case"zset":E();break}},he=async()=>{if(!y.value.key){n.error("请输入Key名称");return}let h=!1,g;switch(y.value.type){case"string":h=ne.value.trim()!=="",g=ne.value;break;case"hash":const S=Z.value.filter(M=>M.field&&M.field.trim());h=S.length>0,g={},S.forEach(M=>{g[M.field]=M.value});break;case"list":const q=J.value.filter(M=>M.value&&M.value.trim());h=q.length>0,g=q.map(M=>M.value);break;case"set":const W=T.value.filter(M=>M.member&&M.member.trim());h=W.length>0,g=W.map(M=>M.member);break;case"zset":const A=D.value.filter(M=>M.member&&M.member.trim());h=A.length>0,g=A.map(M=>({member:M.member,score:M.score}));break}if(!h){n.error("请添加Key内容");return}_e.value=!0;try{const S=ve.sdk.GetSelectEsConnID(),q=await Lt({es_connect:S,database:$.database,key:y.value.key,type:y.value.type,ttl:y.value.ttl,value:g});q.code===0?(n.success("Key创建成功"),le("save",y.value)):n.error(q.msg||"Key创建失败")}catch(S){n.error("Key创建失败: "+S.message)}finally{_e.value=!1}},Me=()=>{le("cancel")};return Ct(()=>{pe(),ue(),ge(),E()}),(h,g)=>{const S=V("el-button"),q=V("el-input"),W=V("el-form-item"),A=V("el-option"),M=V("el-select"),Ue=V("el-button-group"),Q=V("el-table-column"),Je=V("el-table"),Le=V("el-input-number"),Be=V("el-form"),fe=V("el-dialog");return _(),K("div",{class:He(["key-creator-container",{"dark-mode":ce.value}])},[l("div",ia,[ua,l("div",ra,[e(S,{onClick:Me},{default:t(()=>[u("取消")]),_:1}),e(S,{type:"primary",onClick:he,loading:_e.value},{default:t(()=>[u("创建")]),_:1},8,["loading"])])]),l("div",da,[e(Be,{model:y.value,"label-width":"100px",ref_key:"keyFormRef",ref:ae,class:"key-form"},{default:t(()=>[e(W,{label:"Key名称",required:""},{default:t(()=>[e(q,{modelValue:y.value.key,"onUpdate:modelValue":g[0]||(g[0]=f=>y.value.key=f),placeholder:"请输入Key名称"},null,8,["modelValue"])]),_:1}),e(W,{label:"数据类型",required:""},{default:t(()=>[e(M,{modelValue:y.value.type,"onUpdate:modelValue":g[1]||(g[1]=f=>y.value.type=f),placeholder:"选择数据类型",style:{width:"200px"},onChange:F},{default:t(()=>[e(A,{label:"String (字符串)",value:"string"}),e(A,{label:"Hash (哈希)",value:"hash"}),e(A,{label:"List (列表)",value:"list"}),e(A,{label:"Set (集合)",value:"set"}),e(A,{label:"ZSet (有序集合)",value:"zset"})]),_:1},8,["modelValue"])]),_:1}),e(W,{label:"过期时间"},{default:t(()=>[e(q,{modelValue:y.value.ttl,"onUpdate:modelValue":g[2]||(g[2]=f=>y.value.ttl=f),modelModifiers:{number:!0},placeholder:"-1表示永不过期",type:"number",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),y.value.type==="string"?(_(),X(W,{key:0,label:"内容",required:""},{default:t(()=>[l("div",va,[l("div",pa,[e(Ue,null,{default:t(()=>[e(S,{onClick:xe,disabled:!x.value},{default:t(()=>[ma,u(" 格式化JSON ")]),_:1},8,["disabled"]),e(S,{onClick:ie,disabled:!x.value},{default:t(()=>[ya,u(" 压缩JSON ")]),_:1},8,["disabled"])]),_:1})]),e(q,{type:"textarea",modelValue:ne.value,"onUpdate:modelValue":g[3]||(g[3]=f=>ne.value=f),rows:10,placeholder:"请输入字符串内容",class:"content-editor"},null,8,["modelValue"])])]),_:1})):B("",!0),y.value.type==="hash"?(_(),X(W,{key:1,label:"Hash字段",required:""},{default:t(()=>[l("div",_a,[l("div",fa,[e(S,{type:"primary",onClick:pe},{default:t(()=>[ha,u(" 添加字段 ")]),_:1})]),e(Je,{data:Z.value,stripe:"",style:{width:"100%"},"max-height":"300"},{default:t(()=>[e(Q,{type:"index",label:"#",width:"60"}),e(Q,{label:"字段名",width:"150"},{default:t(({row:f,$index:P})=>[e(q,{modelValue:f.field,"onUpdate:modelValue":H=>f.field=H,placeholder:"字段名"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(Q,{label:"值"},{default:t(({row:f,$index:P})=>[l("div",ba,[e(q,{modelValue:f.value,"onUpdate:modelValue":H=>f.value=H,type:"textarea",rows:2,placeholder:"值"},null,8,["modelValue","onUpdate:modelValue"]),l("div",ka,[e(S,{type:"text",onClick:H=>ke(f,P),disabled:!O(f.value)},{default:t(()=>[u(" JSON ")]),_:2},1032,["onClick","disabled"])])])]),_:1}),e(Q,{label:"操作",width:"100"},{default:t(({row:f,$index:P})=>[e(S,{type:"danger",onClick:H=>j(P)},{default:t(()=>[u(" 删除 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])]),_:1})):B("",!0),y.value.type==="list"?(_(),X(W,{key:2,label:"List元素",required:""},{default:t(()=>[l("div",ga,[l("div",Sa,[e(S,{type:"primary",onClick:ue},{default:t(()=>[Ca,u(" 添加元素 ")]),_:1})]),e(Je,{data:J.value,stripe:"",style:{width:"100%"},"max-height":"300"},{default:t(()=>[e(Q,{type:"index",label:"索引",width:"80"}),e(Q,{label:"值"},{default:t(({row:f,$index:P})=>[l("div",xa,[e(q,{modelValue:f.value,"onUpdate:modelValue":H=>f.value=H,type:"textarea",rows:2,placeholder:"值"},null,8,["modelValue","onUpdate:modelValue"]),l("div",wa,[e(S,{type:"text",onClick:H=>G(f,P),disabled:!O(f.value)},{default:t(()=>[u(" JSON ")]),_:2},1032,["onClick","disabled"])])])]),_:1}),e(Q,{label:"操作",width:"100"},{default:t(({row:f,$index:P})=>[e(S,{type:"danger",onClick:H=>we(P)},{default:t(()=>[u(" 删除 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])]),_:1})):B("",!0),y.value.type==="set"?(_(),X(W,{key:3,label:"Set成员",required:""},{default:t(()=>[l("div",Na,[l("div",Va,[e(S,{type:"primary",onClick:ge},{default:t(()=>[$a,u(" 添加成员 ")]),_:1})]),e(Je,{data:T.value,stripe:"",style:{width:"100%"},"max-height":"300"},{default:t(()=>[e(Q,{type:"index",label:"#",width:"60"}),e(Q,{label:"成员"},{default:t(({row:f,$index:P})=>[l("div",Ja,[e(q,{modelValue:f.member,"onUpdate:modelValue":H=>f.member=H,type:"textarea",rows:2,placeholder:"成员值"},null,8,["modelValue","onUpdate:modelValue"]),l("div",Oa,[e(S,{type:"text",onClick:H=>Ne(f,P),disabled:!O(f.member)},{default:t(()=>[u(" JSON ")]),_:2},1032,["onClick","disabled"])])])]),_:1}),e(Q,{label:"操作",width:"100"},{default:t(({row:f,$index:P})=>[e(S,{type:"danger",onClick:H=>Se(P)},{default:t(()=>[u(" 删除 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])]),_:1})):B("",!0),y.value.type==="zset"?(_(),X(W,{key:4,label:"ZSet成员",required:""},{default:t(()=>[l("div",Ka,[l("div",Ta,[e(S,{type:"primary",onClick:E},{default:t(()=>[Ia,u(" 添加成员 ")]),_:1})]),e(Je,{data:D.value,stripe:"",style:{width:"100%"},"max-height":"300"},{default:t(()=>[e(Q,{type:"index",label:"#",width:"60"}),e(Q,{label:"分数",width:"120"},{default:t(({row:f,$index:P})=>[e(Le,{modelValue:f.score,"onUpdate:modelValue":H=>f.score=H,placeholder:"分数",precision:2,style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(Q,{label:"成员"},{default:t(({row:f,$index:P})=>[l("div",Da,[e(q,{modelValue:f.member,"onUpdate:modelValue":H=>f.member=H,type:"textarea",rows:2,placeholder:"成员值"},null,8,["modelValue","onUpdate:modelValue"]),l("div",za,[e(S,{type:"text",onClick:H=>Ee(f,P),disabled:!O(f.member)},{default:t(()=>[u(" JSON ")]),_:2},1032,["onClick","disabled"])])])]),_:1}),e(Q,{label:"操作",width:"100"},{default:t(({row:f,$index:P})=>[e(S,{type:"danger",onClick:H=>Ie(P)},{default:t(()=>[u(" 删除 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])]),_:1})):B("",!0)]),_:1},8,["model"])]),e(fe,{title:"JSON 格式化",visible:U.value,width:"80%"},{default:t(()=>[l("div",Ea,[l("div",Ma,[e(Ue,null,{default:t(()=>[e(S,{onClick:me},{default:t(()=>[Ua,u(" 格式化 ")]),_:1}),e(S,{onClick:ye},{default:t(()=>[La,u(" 压缩 ")]),_:1}),e(S,{onClick:oe},{default:t(()=>[Ra,u(" 复制 ")]),_:1})]),_:1})]),e(q,{type:"textarea",modelValue:L.value,"onUpdate:modelValue":g[4]||(g[4]=f=>L.value=f),rows:20,placeholder:"JSON 内容",class:"json-dialog-editor"},null,8,["modelValue"])]),l("div",Aa,[e(S,{onClick:g[5]||(g[5]=f=>U.value=!1)},{default:t(()=>[u("取消")]),_:1}),e(S,{type:"primary",onClick:$e},{default:t(()=>[u("确定")]),_:1})])]),_:1},8,["visible"])],2)}}},zt=xt(Ha,[["__scopeId","data-v-e8c1b76e"]]);const I=se=>(Mt("data-v-55a9870c"),se=se(),Ut(),se),Ba={key:0,class:"desktop-layout"},Za={class:"search-container"},Fa={class:"search-row"},ja=I(()=>l("i",{class:"el-icon-search"},null,-1)),Ga=I(()=>l("i",{class:"el-icon-plus"},null,-1)),Pa={key:0,class:"pagination-container"},qa={class:"pagination-info"},Xa={class:"keys-container"},Wa={class:"keys-list"},Ya=["onClick"],Qa={class:"key-info"},es={class:"key-name"},ts={class:"key-actions"},ls=I(()=>l("i",{class:"el-icon-delete"},null,-1)),as={key:1,class:"empty-keys"},ss=I(()=>l("i",{class:"el-icon-document empty-icon"},null,-1)),os=I(()=>l("p",null,"暂无Key数据",-1)),ns=[ss,os],cs=["onContextmenu"],is={key:2,class:"welcome-content"},us={class:"welcome-center"},rs=I(()=>l("i",{class:"el-icon-folder-opened welcome-icon"},null,-1)),ds=I(()=>l("h2",null,"Key 管理器",-1)),vs=I(()=>l("p",null,"点击左侧的Key查看详情，或创建新的Key",-1)),ps={class:"welcome-actions"},ms=I(()=>l("i",{class:"el-icon-plus"},null,-1)),ys=I(()=>l("i",{class:"el-icon-refresh"},null,-1)),_s={key:0,class:"empty-state"},fs={class:"empty-center"},hs=I(()=>l("i",{class:"el-icon-document-add empty-icon"},null,-1)),bs=I(()=>l("h3",null,"暂无打开的标签页",-1)),ks=I(()=>l("p",null,"点击左侧的Key或创建新Key开始管理",-1)),gs=I(()=>l("i",{class:"el-icon-view"},null,-1)),Ss=I(()=>l("i",{class:"el-icon-close"},null,-1)),Cs=I(()=>l("span",null,"关闭其他",-1)),xs=[Ss,Cs],ws=I(()=>l("i",{class:"el-icon-arrow-right"},null,-1)),Ns=I(()=>l("span",null,"关闭右边",-1)),Vs=[ws,Ns],$s=I(()=>l("i",{class:"el-icon-delete"},null,-1)),Js=I(()=>l("span",null,"关闭所有",-1)),Os=[$s,Js],Ks={key:1,class:"mobile-layout"},Ts={class:"mobile-container"},Is={class:"mobile-search-section"},Ds={class:"mobile-search-header"},zs=I(()=>l("h3",null,"Key 管理器",-1)),Es=I(()=>l("i",{class:"el-icon-plus"},null,-1)),Ms={class:"mobile-search-controls"},Us=I(()=>l("i",{class:"el-icon-search"},null,-1)),Ls={class:"mobile-key-stats"},Rs={class:"mobile-content-section"},As={key:0,class:"mobile-keys-list"},Hs={key:0,class:"mobile-pagination"},Bs={class:"mobile-pagination-info"},Zs={class:"keys-list"},Fs=["onClick"],js={class:"key-info"},Gs={class:"key-name"},Ps={class:"key-actions"},qs=I(()=>l("i",{class:"el-icon-delete"},null,-1)),Xs={key:0,class:"empty-keys"},Ws=I(()=>l("i",{class:"el-icon-document empty-icon"},null,-1)),Ys=I(()=>l("p",null,"暂无Key数据",-1)),Qs=I(()=>l("i",{class:"el-icon-plus"},null,-1)),eo={key:1,class:"mobile-key-detail"},to={class:"mobile-detail-header"},lo=I(()=>l("i",{class:"el-icon-arrow-left"},null,-1)),ao={class:"detail-title"},so=I(()=>l("i",{class:"el-icon-refresh"},null,-1)),oo={class:"mobile-detail-content"},no={key:2,class:"mobile-key-creator"},co={class:"mobile-detail-header"},io=I(()=>l("i",{class:"el-icon-arrow-left"},null,-1)),uo=I(()=>l("span",{class:"detail-title"},"新增Key",-1)),ro={class:"mobile-detail-content"},vt=48,vo={__name:"redis-manager",setup(se){const Te=p(400),$=p(0),le=p(""),_e=p(!1),ae=p(!1),ne=p(0),Z=p(0),J=p([]),T=p(1),D=p(10),U=p(0),L=p([]),R=p([]),ce=p([]),x=p(""),y=p([]),O=p(!1),xe=p({x:0,y:0}),ie=p(null),pe=p(null);p(20);const j=p(0),ke=p([]),ue=p(0),we=async i=>{try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(i),n.success("已复制到剪贴板");else{const c=document.createElement("textarea");c.value=i,c.style.position="fixed",c.style.left="-999999px",c.style.top="-999999px",document.body.appendChild(c),c.focus(),c.select();const v=document.execCommand("copy");document.body.removeChild(c),v?n.success("已复制到剪贴板"):n.error("复制失败")}}catch(c){console.error("复制失败:",c),n.error("复制失败")}};let G=0;const ge=Ve(()=>ve.sdk.IsMobile()),Se=Ve(()=>ve.sdk.isDarkTheme()),Ne=Ve(()=>le.value&&le.value.trim()&&Z.value>0?`${Z.value} 个匹配的Key`:`${R.value.length} 个Key`),E=()=>{var k;if(!ce.value.length){ke.value=[],ue.value=0;return}ue.value=ce.value.length*vt;const i=((k=pe.value)==null?void 0:k.clientHeight)||400,c=Math.ceil(i/vt)+5,v=Math.max(0,Math.floor(j.value/vt)-2),C=Math.min(ce.value.length,v+c);ke.value=ce.value.slice(v,C).map((N,ee)=>({...N,top:(v+ee)*vt}))},Ie=i=>{j.value=i.target.scrollTop,E()};Et(ce,()=>{It(()=>E())},{immediate:!0}),Ct(async()=>{await Ee(),await me(),q()});const Ee=async()=>{_e.value=!0;try{const i=ve.sdk.GetSelectEsConnID();if(!i){n.error("请先选择Redis连接");return}const c=[];for(let C=0;C<=15;C++)c.push({database:C,keys:0,expires:0,avgTTL:0});const v=await ol({es_connect:i});v.code===0?((v.data.databases||[]).forEach(k=>{if(k.database<=15){const N=c.find(ee=>ee.database===k.database);N&&(N.keys=k.keys,N.expires=k.expires,N.avgTTL=k.avgTTL)}else c.push(k)}),c.sort((k,N)=>k.database-N.database),L.value=c,($.value===0||!L.value.find(k=>k.database===$.value))&&($.value=0)):(L.value=c,$.value=0,console.warn("获取数据库列表失败，使用默认数据库列表:",v.msg))}catch(i){console.error("获取数据库列表失败:",i);const c=[];for(let v=0;v<=15;v++)c.push({database:v,keys:0,expires:0,avgTTL:0});L.value=c,$.value=0,n.error("获取数据库列表失败: "+i.message)}finally{_e.value=!1}},me=async()=>{ae.value=!0,T.value=1;try{const i=ve.sdk.GetSelectEsConnID();if(!i){n.error("请先选择Redis连接");return}const c=le.value&&le.value.trim()?le.value.trim():"",v=await nl({es_connect:i,database:$.value,search_text:c,count:999999,cursor:"0",case_sensitive:!1});if(v.code===0){const C=v.data.keys||[];J.value=C,ne.value=v.data.totalCount||0,c?(Z.value=v.data.matchedCount||C.length,n.success(`搜索完成，找到 ${C.length} 个匹配的Key`)):Z.value=0,U.value=Math.ceil(C.length/D.value),ye()}else n.error(v.msg||"获取Keys失败")}catch(i){console.error("获取Keys失败:",i),n.error("获取Keys失败: "+i.message)}finally{ae.value=!1}},ye=()=>{const i=(T.value-1)*D.value,c=i+D.value;R.value=J.value.slice(i,c),ce.value=R.value,setTimeout(()=>E(),0)},oe=i=>{T.value=i,ye()},$e=i=>{D.value=i,U.value=Math.ceil(J.value.length/D.value),T.value=1,ye()},F=()=>{le.value="",Z.value=0,T.value=1,me()},he=()=>{me()},Me=async i=>await h(i),h=async i=>{const c=(i==null?void 0:i.keyName)||(i==null?void 0:i.key);if(!c){n.error("Key数据不正确");return}const v=`key_${c}_${Date.now()}`,C=y.value.find(k=>k.type==="key"&&k.keyData&&(k.keyData.keyName===c||k.keyData.key===c));if(C){x.value=C.name;return}try{const k=ve.sdk.GetSelectEsConnID(),N=await St({es_connect:k,database:$.value,key:c});if(N.code===0){const ee={name:v,label:c&&c.length>20?c.substring(0,20)+"...":c,type:"key",closable:!0,keyData:{...i,keyName:c,key:c,detail:N.data}};y.value.push(ee),x.value=v}else n.error("获取Key详情失败: "+N.msg)}catch(k){console.error("获取Key详情失败:",k),n.error("获取Key详情失败: "+k.message)}},g=async i=>{var v;const c=(i==null?void 0:i.keyName)||(i==null?void 0:i.key);if(!c){n.error("Key数据不正确");return}try{await gt.confirm(`确定要删除Key "${c}" 吗？此操作不可恢复！`,"删除确认",{confirmButtonText:"确定删除",cancelButtonText:"取消",type:"warning"});const C=ve.sdk.GetSelectEsConnID(),k=await Rt({es_connect:C,database:$.value,key:c});if(k.code===0&&k.data.success){n.success("删除成功"),me();const N=y.value.find(ee=>ee.type==="key"&&ee.keyData&&(ee.keyData.keyName===c||ee.keyData.key===c));N&&W(N.name)}else n.error(((v=k.data)==null?void 0:v.message)||k.msg||"删除失败")}catch(C){C!=="cancel"&&(console.error("删除Key失败:",C),n.error("删除Key失败: "+C.message))}},S=()=>{console.log("openNewKeyTab 被调用");const i=`new_key_${++G}`,c={name:i,label:"新增Key",type:"new",closable:!0};y.value.push(c),x.value=i,console.log("新标签页已创建:",c)},q=()=>{if(!y.value.find(c=>c.type==="welcome")){const c={name:"welcome",label:"欢迎",type:"welcome",closable:!1};y.value.push(c)}x.value="welcome"},W=i=>{const c=y.value.findIndex(v=>v.name===i);if(c!==-1&&(y.value.splice(c,1),x.value===i))if(y.value.length>0){const v=c>=y.value.length?y.value.length-1:c;x.value=y.value[v].name}else x.value=""},A=i=>{x.value=i.name},M=(i,c)=>{ie.value=c,xe.value={x:i.clientX,y:i.clientY},O.value=!0;const v=()=>{O.value=!1,document.removeEventListener("click",v)};setTimeout(()=>{document.addEventListener("click",v)},100)},Ue=()=>{if(!ie.value)return;const i=ie.value,c=y.value.filter(v=>v.name!==i.name&&v.closable!==!1);c.forEach(v=>{const C=y.value.findIndex(k=>k.name===v.name);C!==-1&&y.value.splice(C,1)}),x.value=i.name,O.value=!1,n.success(`已关闭其他 ${c.length} 个标签页`)},Q=()=>{if(!ie.value)return;const i=y.value.findIndex(v=>v.name===ie.value.name);if(i===-1)return;const c=y.value.slice(i+1).filter(v=>v.closable!==!1);c.forEach(v=>{const C=y.value.findIndex(k=>k.name===v.name);C!==-1&&y.value.splice(C,1)}),O.value=!1,c.length>0?n.success(`已关闭右边 ${c.length} 个标签页`):n.info("右边没有可关闭的标签页")},Je=async()=>{try{await gt.confirm("确定要关闭所有标签页吗？","关闭确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});const c=y.value.filter(v=>v.closable!==!1).length;y.value=y.value.filter(v=>v.closable===!1),y.value.length>0?x.value=y.value[0].name:x.value="",O.value=!1,n.success(`已关闭所有 ${c} 个标签页`)}catch(i){i!=="cancel"&&console.error("关闭标签页失败:",i)}},Le=i=>({string:"el-icon-document",hash:"el-icon-collection",list:"el-icon-menu",set:"el-icon-postcard",zset:"el-icon-rank"})[i.type]||"el-icon-document",Be=i=>{var c;return i.type==="welcome"?"el-icon-house":i.type==="new"?"el-icon-plus":i.type==="key"&&{string:"el-icon-document",hash:"el-icon-collection",list:"el-icon-menu",set:"el-icon-postcard",zset:"el-icon-rank"}[(c=i.keyData)==null?void 0:c.keyType]||"el-icon-document"},fe=i=>y.value.find(c=>c.name===i),f=()=>{x.value=""},P=()=>{const i=fe(x.value);i&&i.type==="key"&&H(i.keyData.key)},H=async i=>{console.log("refreshKey called in redis-manager, keyName:",i);const c=y.value.find(v=>v.type==="key"&&v.keyData&&(v.keyData.keyName===i||v.keyData.key===i));if(c)try{const v=ve.sdk.GetSelectEsConnID(),C=await St({es_connect:v,database:$.value,key:i});if(C.code===0){c.keyData={...c.keyData,keyName:i,key:i,detail:C.data};const k=c.name;x.value="",await It(),x.value=k,n.success("Key数据已刷新")}else n.error("刷新Key详情失败: "+C.msg)}catch(v){console.error("刷新Key详情失败:",v),n.error("刷新Key详情失败: "+v.message)}},Ze=()=>me(),Pe=()=>{me(),W(x.value)},qe=()=>{me(),W(x.value)},pt=()=>{Ee(),me()},mt=i=>{const c=i.clientX,v=Te.value,C=N=>{const ee=N.clientX-c,De=v+ee;De>=200&&De<=600&&(Te.value=De)},k=()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",k)};document.addEventListener("mousemove",C),document.addEventListener("mouseup",k)},Xe=i=>{console.log("复制按钮被点击，key:",i),we(i)};return(i,c)=>{var Ye,Qe,et,Fe,tt,lt;const v=V("el-option"),C=V("el-select"),k=V("el-input"),N=V("el-button"),ee=V("el-pagination"),De=V("el-aside"),yt=V("el-tab-pane"),_t=V("el-tabs"),ft=V("el-main"),ht=V("el-container"),bt=V("el-icon"),We=al("loading");return _(),K("div",{class:He(["redis-manager-page",{"mobile-layout":ge.value,"dark-mode":Se.value}])},[ge.value?(_(),K("div",Ks,[l("div",Ts,[l("div",Is,[l("div",Ds,[zs,e(N,{type:"primary",onClick:S,class:"mobile-new-btn"},{default:t(()=>[Es,u(" 新增 ")]),_:1})]),l("div",Ms,[e(C,{modelValue:$.value,"onUpdate:modelValue":c[6]||(c[6]=m=>$.value=m),placeholder:"选择数据库",style:{width:"100px"},onChange:F,loading:_e.value},{default:t(()=>[(_(!0),K(je,null,Ge(L.value,m=>(_(),X(v,{key:m.database,label:`DB${m.database}`,value:m.database},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"]),e(k,{modelValue:le.value,"onUpdate:modelValue":c[7]||(c[7]=m=>le.value=m),placeholder:"搜索Key...","prefix-icon":"el-icon-search",style:{flex:"1","margin-left":"8px"},onKeyup:Kt(he,["enter"]),clearable:""},{suffix:t(()=>[ae.value?(_(),X(bt,{key:0,class:"is-loading"},{default:t(()=>[e(b(sl))]),_:1})):B("",!0)]),_:1},8,["modelValue"]),e(N,{type:"primary",onClick:he,loading:ae.value,style:{"margin-left":"8px"},size:"small"},{default:t(()=>[Us]),_:1},8,["loading"])]),l("div",Ls,[l("span",null,z(Ne.value),1)])]),l("div",Rs,[!x.value||!fe(x.value)||((Ye=fe(x.value))==null?void 0:Ye.type)!=="key"&&((Qe=fe(x.value))==null?void 0:Qe.type)!=="new"?(_(),K("div",As,[J.value.length>0?(_(),K("div",Hs,[l("div",Bs," 共 "+z(J.value.length)+" 条，第 "+z(T.value)+" / "+z(U.value)+" 页 ",1),e(ee,{"current-page":T.value,"onUpdate:currentPage":c[8]||(c[8]=m=>T.value=m),"page-size":D.value,"onUpdate:pageSize":c[9]||(c[9]=m=>D.value=m),"page-sizes":[20,50],total:J.value.length,layout:"sizes, prev, pager, next",onCurrentChange:oe,onSizeChange:$e,small:""},null,8,["current-page","page-size","total"])])):B("",!0),Tt((_(),K("div",Zs,[(_(!0),K(je,null,Ge(ce.value,m=>(_(),K("div",{key:m.key,class:"mobile-key-item",onClick:Oe=>Me(m)},[l("div",js,[l("i",{class:He([Le(m),"key-icon"])},null,2),l("span",Gs,z(m.key),1),e(N,{type:"text",size:"small",class:"copy-btn",title:"复制Key",onClick:te(Oe=>Xe(m.key),["stop"])},{default:t(()=>[u(" 复制 ")]),_:2},1032,["onClick"])]),l("div",Ps,[e(N,{type:"text",onClick:te(Oe=>g(m),["stop"]),style:{color:"#f56c6c"}},{default:t(()=>[qs]),_:2},1032,["onClick"])])],8,Fs))),128)),R.value.length===0&&!ae.value?(_(),K("div",Xs,[Ws,Ys,e(N,{type:"primary",onClick:S,style:{"margin-top":"16px"}},{default:t(()=>[Qs,u(" 创建第一个Key ")]),_:1})])):B("",!0)])),[[We,ae.value]])])):((et=fe(x.value))==null?void 0:et.type)==="key"?(_(),K("div",eo,[l("div",to,[e(N,{type:"text",onClick:f,class:"back-btn"},{default:t(()=>[lo,u("返回")]),_:1}),l("span",ao,z((Fe=fe(x.value))==null?void 0:Fe.label),1),e(N,{type:"text",onClick:P,class:"refresh-btn"},{default:t(()=>[so]),_:1})]),l("div",oo,[e(Dt,{"key-data":(tt=fe(x.value))==null?void 0:tt.keyData,database:$.value,onRefresh:H,onSave:Ze,onDelete:qe},null,8,["key-data","database"])])])):((lt=fe(x.value))==null?void 0:lt.type)==="new"?(_(),K("div",no,[l("div",co,[e(N,{type:"text",onClick:f,class:"back-btn"},{default:t(()=>[io,u("返回")]),_:1}),uo]),l("div",ro,[e(zt,{database:$.value,onSave:Pe,onCancel:f},null,8,["database"])])])):B("",!0)])])])):(_(),K("div",Ba,[e(ht,{class:"manager-container"},{default:t(()=>[e(De,{class:"keys-sidebar",width:Te.value+"px"},{default:t(()=>[l("div",Za,[l("div",Fa,[e(C,{modelValue:$.value,"onUpdate:modelValue":c[0]||(c[0]=m=>$.value=m),placeholder:"选择数据库",style:{width:"120px"},onChange:F,loading:_e.value},{default:t(()=>[(_(!0),K(je,null,Ge(L.value,m=>(_(),X(v,{key:m.database,label:`DB${m.database} (${m.keys})`,value:m.database},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"]),e(k,{modelValue:le.value,"onUpdate:modelValue":c[1]||(c[1]=m=>le.value=m),placeholder:"Key","prefix-icon":"el-icon-search",style:{flex:"1"},onKeyup:Kt(he,["enter"]),clearable:""},null,8,["modelValue"]),e(N,{type:"primary",onClick:he,loading:ae.value,style:{"margin-left":"8px"}},{default:t(()=>[ja,u(" 搜索 ")]),_:1},8,["loading"]),e(N,{type:"primary",onClick:S},{default:t(()=>[Ga,u("新增")]),_:1})])]),J.value.length>0?(_(),K("div",Pa,[l("div",qa,[l("span",null,"共 "+z(J.value.length)+" 条记录",1),l("span",null,"第 "+z(T.value)+" / "+z(U.value)+" 页",1)]),e(ee,{"current-page":T.value,"onUpdate:currentPage":c[2]||(c[2]=m=>T.value=m),"page-size":D.value,"onUpdate:pageSize":c[3]||(c[3]=m=>D.value=m),"page-sizes":[20,50,100],total:J.value.length,layout:"sizes, prev, pager, next",onCurrentChange:oe,onSizeChange:$e,small:""},null,8,["current-page","page-size","total"])])):B("",!0),Tt((_(),K("div",Xa,[l("div",Wa,[ce.value.length>0?(_(),K("div",{key:0,class:"virtual-container",ref_key:"virtualContainer",ref:pe,onScroll:Ie},[l("div",{class:"virtual-content",style:kt({height:ue.value+"px"})},[(_(!0),K(je,null,Ge(ke.value,(m,Oe)=>(_(),K("div",{key:m.key,class:"key-item virtual-key-item",style:kt({transform:`translateY(${m.top}px)`,position:"absolute",width:"100%"}),onClick:at=>Me(m)},[l("div",Qa,[l("i",{class:He([Le(m),"key-icon"])},null,2),l("span",es,z(m.key),1),e(N,{type:"text",size:"small",class:"copy-btn",title:"复制Key",onClick:te(at=>Xe(m.key),["stop"])},{default:t(()=>[u(" 复制 ")]),_:2},1032,["onClick"])]),l("div",ts,[e(N,{type:"text",onClick:te(at=>g(m),["stop"])},{default:t(()=>[ls]),_:2},1032,["onClick"])])],12,Ya))),128))],4)],544)):B("",!0),R.value.length===0&&!ae.value?(_(),K("div",as,ns)):B("",!0)])])),[[We,ae.value]]),l("div",{class:"resize-handle",onMousedown:mt},null,32)]),_:1},8,["width"]),e(ft,{class:"content-main"},{default:t(()=>[e(_t,{modelValue:x.value,"onUpdate:modelValue":c[4]||(c[4]=m=>x.value=m),type:"card",closable:"",onTabRemove:W,onTabClick:A,class:"content-tabs"},{default:t(()=>[(_(!0),K(je,null,Ge(y.value,m=>(_(),X(yt,{key:m.name,name:m.name,label:m.label,closable:m.closable},{label:t(()=>[l("span",{class:"tab-label",onContextmenu:te(Oe=>M(Oe,m),["prevent"])},[l("i",{class:He(Be(m))},null,2),u(z(m.label),1)],40,cs)]),default:t(()=>[m.type==="key"?(_(),X(Dt,{key:0,"key-data":m.keyData,database:$.value,onRefresh:H,onSave:Ze,onDelete:qe},null,8,["key-data","database"])):m.type==="new"?(_(),X(zt,{key:1,database:$.value,onSave:Pe,onCancel:Oe=>W(m.name)},null,8,["database","onCancel"])):m.type==="welcome"?(_(),K("div",is,[l("div",us,[rs,ds,vs,l("div",ps,[e(N,{type:"primary",onClick:S},{default:t(()=>[ms,u("创建新Key")]),_:1}),e(N,{onClick:pt},{default:t(()=>[ys,u("刷新数据")]),_:1})])])])):B("",!0)]),_:2},1032,["name","label","closable"]))),128))]),_:1},8,["modelValue"]),y.value.length===0?(_(),K("div",_s,[l("div",fs,[hs,bs,ks,e(N,{type:"primary",onClick:q},{default:t(()=>[gs,u("打开欢迎页")]),_:1})])])):B("",!0)]),_:1})]),_:1}),O.value?(_(),K("div",{key:0,class:"tab-context-menu",style:kt({left:xe.value.x+"px",top:xe.value.y+"px"}),onClick:c[5]||(c[5]=te(()=>{},["stop"]))},[l("div",{class:"context-menu-item",onClick:Ue},xs),l("div",{class:"context-menu-item",onClick:Q},Vs),l("div",{class:"context-menu-item",onClick:Je},Os)],4)):B("",!0)]))],2)}}},_o=xt(vo,[["__scopeId","data-v-55a9870c"]]);export{_o as default};
